{"version":3,"sources":["modules/favoritesFunctions.js","components/CardCharacter.js","components/NavPagination.js","components/Cards.js","layout/Header.js","pages/Characters.js","pages/Favorite.js","pages/Error404.js","App.js","index.js"],"names":["getFavorites","data","localStorage","getItem","JSON","parse","CardCharacter","props","useState","favorites","setFav","homeland","setHomeland","isInFavorites","find","post","name","useEffect","axios","planet","slice","then","res","className","src","id","alt","size","onClick","character","favs","setItem","stringify","addToFavorite","char","NavPagination","charactersPerPage","numberOfCharacter","setCurrentPage","currentPage","pageNumbers","i","push","map","pageNumber","Cards","loading","setloading","setNumberOfCharacter","Characters","setCharacters","filteredDataByGender","setFilteredDataByGender","searchedByName","setsearchedByName","indexOfLast","indexOfFirstPost","PaginatedFiltredCharacters","AllCharacters","FetchDataOneUrl","URL","a","get","response","concat","results","count","catch","error","console","URLs","Promise","all","forEach","item","url","reg","match","parseInt","getIdByURL","fetchDataAllUrls","placeholder","type","onChange","event","result","nameToBeSearched","target","value","toLowerCase","filter","indexOf","length","document","getElementById","selectedIndex","handleSearchbyName","ev","gender","charachterr","handleFilterByGender","index","homeworld","Header","to","Favorite","Fav","height","width","splice","Error404","App","basename","process","exact","path","component","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.3166bee9.chunk.js","sourcesContent":["export function addToFavorite(character) {\n  const favs = getFavorites()?getFavorites():[];\n  localStorage.setItem('fav', JSON.stringify([ character , ...favs]));\n}\n\nexport function getFavorites() {\n  const data = localStorage.getItem(\"fav\");\n  if(!data) return []\n  return JSON.parse(data);\n}\n\n","import React, { useState, useEffect } from \"react\";\nimport { IoMdHeart } from \"react-icons/io\";\nimport { addToFavorite, getFavorites } from \"../modules/favoritesFunctions\";\nimport axios from \"axios\";\n\nconst CardCharacter = (props) => {\n  const [favorites, setFav] = useState(getFavorites());\n  const [homeland, setHomeland] = useState();\n\n  let isInFavorites = favorites.find((post) => {\n    if (post.name === props.name) return true;\n    return false;\n  });\n  //http to https\n  useEffect(() => {\n    axios(props.planet.slice(0, 4) + \"s\" + props.planet.slice(4)).then((res) =>\n      setHomeland(res.data.name)\n    );\n  }, [props.planet]);\n\n  return (\n    <>\n      <div className=\"card\">\n        <img\n          src={`https://starwars-visualguide.com/assets/img/characters/${props.id}.jpg`}\n          alt=\"Avatar\"\n        />\n        <div>\n          <h4>\n            <b>{props.name}</b>\n          </h4>\n          <p>{homeland}</p>\n          {isInFavorites ? (\n            <div>\n              <IoMdHeart className=\"card__icon--red\" size=\"40px\" />\n            </div>\n          ) : (\n            <div\n              onClick={() => {\n                addToFavorite(props.char);\n                setFav(getFavorites());\n              }}\n            >\n              <IoMdHeart className=\"card__icon--black\" size=\"40px\" />\n            </div>\n          )}\n        </div>\n      </div>\n    </>\n  );\n};\nexport default CardCharacter;\n","import React from \"react\";\n\nexport const NavPagination = ({\n  charactersPerPage,\n  numberOfCharacter,\n  setCurrentPage,\n  currentPage,\n}) => {\n  const pageNumbers = [];\n  let i = 1;\n  for (; i <= numberOfCharacter / charactersPerPage + 1; i++) {\n    pageNumbers.push(i);\n  }\n\n  return (\n    <div className=\"flex flex--center\">\n      <div className=\"pagination center\">\n        {pageNumbers.map((pageNumber) => (\n          <button\n            className={currentPage === pageNumber ? \"active\" : null}\n            key={pageNumber}\n            onClick={() => {\n              setCurrentPage(pageNumber);\n            }}\n          >\n            {pageNumber}\n          </button>\n        ))}\n      </div>\n    </div>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport CardCharacter from \"./CardCharacter\";\nimport { NavPagination } from \"./NavPagination\";\nimport axios from \"axios\";\n\nconst Cards = () => {\n  const [loading, setloading] = useState(false);\n  const [numberOfCharacter, setNumberOfCharacter] = useState();\n  const [Characters, setCharacters] = useState();\n  const [filteredDataByGender, setFilteredDataByGender] = useState([]);\n  const [searchedByName, setsearchedByName] = useState();\n  //Pagination\n  let charactersPerPage = 10;\n  const [currentPage, setCurrentPage] = useState(1);\n  const indexOfLast = currentPage * charactersPerPage;\n  const indexOfFirstPost = indexOfLast - charactersPerPage;\n  const PaginatedFiltredCharacters = filteredDataByGender.slice(\n    indexOfFirstPost,\n    indexOfLast\n  );\n\n  useEffect(() => {\n    setloading(true);\n    let AllCharacters = [];\n    let URLs = [\n      \"https://swapi.dev/api/people/?page=1\",\n      \"https://swapi.dev/api/people/?page=2\",\n      \"https://swapi.dev/api/people/?page=3\",\n      \"https://swapi.dev/api/people/?page=4\",\n      \"https://swapi.dev/api/people/?page=5\",\n      \"https://swapi.dev/api/people/?page=6\",\n      \"https://swapi.dev/api/people/?page=7\",\n      \"https://swapi.dev/api/people/?page=8\",\n      \"https://swapi.dev/api/people/?page=9\",\n    ];\n    \n    const fetchDataAllUrls = (URLs) => {\n      Promise.all(URLs.map(FetchDataOneUrl)).then(() => {\n        setloading(false);\n        //Добавление id из свойства url\n        AllCharacters.forEach((item) => {\n          item.id = getIdByURL(item.url);\n        });\n        setCharacters(AllCharacters);\n        setFilteredDataByGender(AllCharacters);\n      });\n    };\n    async function FetchDataOneUrl(URL) {\n      await axios\n        .get(URL)\n        .then((response) => {\n          AllCharacters = AllCharacters.concat(response.data.results);\n          setNumberOfCharacter(response.data.count);\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    }\n    fetchDataAllUrls(URLs);\n  }, []);\n\n  const handleSearchbyName = (event) => {\n    let nameToBeSearched = event.target.value.toLowerCase();\n    let result = [];\n    result = Characters.filter((character) => {\n      return character.name.toLowerCase().indexOf(nameToBeSearched) > -1;\n    });\n    setCurrentPage(1);\n    setsearchedByName(result);\n    setFilteredDataByGender(result);\n    setNumberOfCharacter(result.length);\n    document.getElementById(\"Filter-gender\").selectedIndex = 0;\n  };\n\n  const handleFilterByGender = (event) => {\n    let gender = event.target.value.toLowerCase();\n    if (gender === \"male\" || gender === \"female\" || gender === \"n/a\") {\n      let result = searchedByName ? searchedByName : Characters;\n      result = result.filter((charachterr) => {\n        return charachterr.gender.toLowerCase() === gender;\n      });\n      setCurrentPage(1);\n      setFilteredDataByGender(result);\n      setNumberOfCharacter(result.length);\n    } else if (searchedByName) setFilteredDataByGender(searchedByName);\n  };\n\n  if (loading)\n    return (\n      <div className=\"section\">\n        <div className=\"lds-dual-ring\">Loading...</div>\n      </div>\n    );\n\n  return (\n    <div className=\"section\">\n      <div className=\"flex flex--space\">\n        <input\n          id=\"search\"\n          placeholder=\"Search by name\"\n          type=\"text\"\n          className=\"search\"\n          onChange={(event) => {\n            handleSearchbyName(event);\n          }}\n        />\n        <select\n          name=\"gender\"\n          id=\"Filter-gender\"\n          onChange={(ev) => {\n            handleFilterByGender(ev);\n          }}\n        >\n          <option value=\"\">--Choose gender--</option>\n          <option value=\"male\">Male</option>\n          <option value=\"female\">Female</option>\n          <option value=\"n/a\">Droid</option>\n        </select>\n      </div>\n      <div className=\"grid-container mb-16 mt-16\">\n        {PaginatedFiltredCharacters &&\n          PaginatedFiltredCharacters.map((character, index) => (\n            <CardCharacter\n              key={index}\n              char={character}\n              id={character.id}\n              name={character.name}\n              planet={character.homeworld}\n            />\n          ))}\n      </div>\n      <NavPagination\n        numberOfCharacter={numberOfCharacter}\n        charactersPerPage={charactersPerPage}\n        currentPage={currentPage}\n        setCurrentPage={setCurrentPage}\n      />\n    </div>\n  );\n};\n\nexport default Cards;\n\nfunction getIdByURL(url) {\n  let reg = url.match(/\\/people\\/(\\d+)\\//);\n  return parseInt(reg[1]);\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"../styles/screen.scss\";\nimport { IoMdHeart } from \"react-icons/io\";\n\nconst Header = () => {\n  return (\n    <>\n      <div className=\"flex flex--space mt-8 mb-16\">\n        <div></div>\n        <Link to=\"/\">\n          <img\n            src=\"https://fontmeme.com/permalink/210602/5a25055fcd1d6b8db47107bfac1f58a5.png\"\n            alt=\"Starwars\"\n            className=\"img__header\"\n          />\n        </Link>\n        <Link to=\"/fav\">\n          <div>\n            <IoMdHeart className=\"card__icon--red\" size=\"40px\" />\n          </div>\n          My favorites\n        </Link>\n      </div>\n      <div className=\"input-size\"></div>\n    </>\n  );\n};\n\nexport default Header;\n","import React from 'react'\nimport Cards from '../components/Cards'\nimport Header from '../layout/Header'\n\nconst Characters = () => {\n    return (\n        <>\n        <Header />\n        <Cards />\n        </>\n    )\n}\n\nexport default Characters\n","import React, { useState } from \"react\";\nimport Header from \"../layout/Header\";\nimport { getFavorites } from \"../modules/favoritesFunctions\";\n\nconst Favorite = () => {\n  const [Fav, setFav] = useState(getFavorites());\n  return (\n    <>\n      <Header />\n      <div className=\"section\">\n        <center>\n          <h2>My favorites</h2>\n        </center>\n        <table>\n          <thead>\n            <tr>\n              <th></th>\n              <th></th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            {Fav.map((item, index) => (\n              <tr key={index}>\n                <td>\n                  <img\n                    height=\"200px\"\n                    width=\"200px\"\n                    src={`https://starwars-visualguide.com/assets/img/characters/${item.id}.jpg`}\n                    alt={`${item.name}`}\n                  />\n                </td>\n                <td>{item.name}</td>\n                <td>\n                  <button\n                    className=\"btn\"\n                    onClick={() => {\n                      let favs = JSON.parse(localStorage.getItem(\"fav\"));\n                      favs.splice(index, 1);\n                      setFav(favs);\n                      localStorage.setItem(\"fav\", JSON.stringify(favs));\n                    }}\n                  >\n                    Remove from favorites\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </>\n  );\n};\n\nexport default Favorite;\n","import React from 'react'\nimport Header from '../layout/Header'\n\nfunction Error404() {\n    return (\n        <>\n        <Header />\n        <div className=\"section\">\n            <h1>Error 404 please recheck the url</h1>\n        </div>\n        </>\n    )\n}\n\nexport default Error404\n","import \"./App.css\";\nimport React from 'react';\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  Redirect,\n} from \"react-router-dom\";\nimport Characters from \"./pages/Characters\";\nimport Favorite from \"./pages/Favorite\";\nimport Error404 from \"./pages/Error404\";\n\n\nfunction App() {\n  return (\n    <Router basename={process.env.PUBLIC_URL}>\n      <Switch>\n        <Route exact path=\"/\">\n          <Characters />\n        </Route>\n        <Route exact path=\"/fav\">\n          <Favorite />\n        </Route>\n        <Route exact path=\"/404\" component={Error404} />\n        <Redirect to=\"/404\" />\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}