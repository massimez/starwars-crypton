(this.webpackJsonpcrypton=this.webpackJsonpcrypton||[]).push([[0],{38:function(e,t,c){},39:function(e,t,c){},60:function(e,t,c){},66:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(30),r=c.n(s),i=(c(38),c(39),c(12)),j=c(2),l=c(18),o=c.n(l),d=c(31),b=c(8),h=c(13),O=c(33);function u(){var e=localStorage.getItem("fav");return e?JSON.parse(e):[]}var x=c(15),m=c.n(x),f=c(0),p=function(e){var t=Object(a.useState)(u()),c=Object(b.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)(),i=Object(b.a)(r,2),j=i[0],l=i[1],o=n.find((function(t){return t.name===e.name}));return m()(e.planet.slice(0,4)+"s"+e.planet.slice(4)).then((function(e){return l(e.data.name)})),Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"card",children:[Object(f.jsx)("img",{src:"https://starwars-visualguide.com/assets/img/characters/".concat(e.id>=17?e.id+1:e.id,".jpg"),alt:"Avatar"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("h4",{children:Object(f.jsx)("b",{children:e.name})}),Object(f.jsx)("p",{children:j}),o?Object(f.jsx)("div",{children:Object(f.jsx)(h.a,{className:"card__icon--red",size:"40px"})}):Object(f.jsx)("div",{onClick:function(){!function(e){var t=u()?u():[];localStorage.setItem("fav",JSON.stringify([e].concat(Object(O.a)(t))))}(e.char),s(u())},children:Object(f.jsx)(h.a,{className:"card__icon--black",size:"40px"})})]})]})})},v=function(e){for(var t=e.charactersPerPage,c=e.totalCharacters,a=e.setCurrentPage,n=e.currentPage,s=[],r=1;r<=c/t+1;r++)s.push(r);return Object(f.jsx)("div",{className:"flex flex--center",children:Object(f.jsx)("div",{className:"pagination center",children:s.map((function(e){return Object(f.jsx)("button",{className:n===e?"active":null,onClick:function(){a(e)},children:e},e)}))})})},g=function(){var e=Object(a.useState)(),t=Object(b.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(),r=Object(b.a)(s,2),i=r[0],j=r[1],l=Object(a.useState)(!1),h=Object(b.a)(l,2),O=h[0],u=h[1],x=Object(a.useState)(1),g=Object(b.a)(x,2),N=g[0],S=g[1],w=Object(a.useState)([]),y=Object(b.a)(w,2),C=y[0],k=y[1];Object(a.useEffect)((function(){u(!0);var e=[];function t(e){return c.apply(this,arguments)}function c(){return(c=Object(d.a)(o.a.mark((function c(a){return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,m()(a).then((function(c){j(c.data.count),null!==c.data.next?(e=e.concat(c.data.results),t(c.data.next.slice(0,4)+"s"+c.data.next.slice(4))):((e=e.concat(c.data.results)).forEach((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e.id=t+1})),n(e),k(e),u(!1))})).catch((function(e){return console.log(e)}));case 2:case"end":return c.stop()}}),c)})))).apply(this,arguments)}t("https://swapi.dev/api/people/")}),[]);var P=function(e){var t,a=e.target.value.toLowerCase();t=c.filter((function(e){return e.name.toLowerCase().indexOf(a)>-1||e.gender.toLowerCase()===a})),S(1),k(t),j(t.length)};if(O)return Object(f.jsx)("div",{className:"section",children:Object(f.jsx)("div",{className:"lds-dual-ring",children:"Loading..."})});var _=10*N,F=_-10,J=C.slice(F,_);return Object(f.jsxs)("div",{className:"section",children:[Object(f.jsxs)("div",{className:"flex flex--space",children:[Object(f.jsx)("input",{placeholder:"Search by name",type:"text",className:"search",onChange:function(e){return P(e)}}),Object(f.jsxs)("select",{name:"genre",onChange:function(e){P(e)},children:[Object(f.jsx)("option",{value:"",children:"--Choose genre--"}),Object(f.jsx)("option",{value:"male",children:"Male"}),Object(f.jsx)("option",{value:"female",children:"Female"}),Object(f.jsx)("option",{value:"n/a",children:"Droid"})]})]}),Object(f.jsx)("div",{className:"grid-container mb-16 mt-16",children:J&&J.map((function(e,t){return Object(f.jsx)(p,{char:e,id:e.id,name:e.name,planet:e.homeworld},t)}))}),Object(f.jsx)(v,{totalCharacters:i,charactersPerPage:10,currentPage:N,setCurrentPage:S})]})},N=(c(60),function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"flex flex--space mt-8 mb-16",children:[Object(f.jsx)("div",{}),Object(f.jsx)(i.b,{to:"/",children:Object(f.jsx)("img",{src:"https://fontmeme.com/permalink/210602/5a25055fcd1d6b8db47107bfac1f58a5.png",alt:"Starwars",className:"img__header"})}),Object(f.jsxs)(i.b,{to:"/fav",children:[Object(f.jsx)("div",{children:Object(f.jsx)(h.a,{className:"card__icon--red",size:"40px"})}),"My favorites"]})]}),Object(f.jsx)("div",{className:"input-size"})]})}),S=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(N,{}),Object(f.jsx)(g,{})]})},w=function(){var e=Object(a.useState)(u()),t=Object(b.a)(e,2),c=t[0],n=t[1];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(N,{}),Object(f.jsxs)("div",{className:"section",children:[Object(f.jsx)("center",{children:Object(f.jsx)("h2",{children:"My favorites"})}),Object(f.jsxs)("table",{children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{}),Object(f.jsx)("th",{}),Object(f.jsx)("th",{})]})}),Object(f.jsx)("tbody",{children:c.map((function(e,t){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:Object(f.jsx)("img",{height:"200px",width:"200px",src:"https://starwars-visualguide.com/assets/img/characters/".concat(e.id,".jpg"),alt:"".concat(e.name)})}),Object(f.jsx)("td",{children:e.name}),Object(f.jsx)("td",{children:Object(f.jsx)("button",{className:"btn",onClick:function(){var e=JSON.parse(localStorage.getItem("fav"));e.splice(t,1),n(e),localStorage.setItem("fav",JSON.stringify(e))},children:"Remove from favorites"})})]},t)}))})]})]})]})};var y=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(N,{}),Object(f.jsx)("div",{className:"section",children:Object(f.jsx)("h1",{children:"Error 404 please recheck the url"})})]})};var C=function(){return Object(f.jsx)(i.a,{basename:"/starwars-crypton",children:Object(f.jsxs)(j.d,{children:[Object(f.jsx)(j.b,{exact:!0,path:"/",children:Object(f.jsx)(S,{})}),Object(f.jsx)(j.b,{exact:!0,path:"/fav",children:Object(f.jsx)(w,{})}),Object(f.jsx)(j.b,{exact:!0,path:"/404",component:y}),Object(f.jsx)(j.a,{to:"/404"})]})})};r.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(C,{})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.9fca0e31.chunk.js.map