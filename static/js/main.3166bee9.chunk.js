(this.webpackJsonpcrypton=this.webpackJsonpcrypton||[]).push([[0],{38:function(e,t,c){},39:function(e,t,c){},60:function(e,t,c){},66:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(30),r=c.n(s),i=(c(38),c(39),c(12)),j=c(2),l=c(18),o=c.n(l),d=c(31),b=c(7),p=c(13),h=c(33);function u(){var e=localStorage.getItem("fav");return e?JSON.parse(e):[]}var O=c(15),x=c.n(O),f=c(0),m=function(e){var t=Object(a.useState)(u()),c=Object(b.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)(),i=Object(b.a)(r,2),j=i[0],l=i[1],o=n.find((function(t){return t.name===e.name}));return Object(a.useEffect)((function(){x()(e.planet.slice(0,4)+"s"+e.planet.slice(4)).then((function(e){return l(e.data.name)}))}),[e.planet]),Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"card",children:[Object(f.jsx)("img",{src:"https://starwars-visualguide.com/assets/img/characters/".concat(e.id,".jpg"),alt:"Avatar"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("h4",{children:Object(f.jsx)("b",{children:e.name})}),Object(f.jsx)("p",{children:j}),o?Object(f.jsx)("div",{children:Object(f.jsx)(p.a,{className:"card__icon--red",size:"40px"})}):Object(f.jsx)("div",{onClick:function(){!function(e){var t=u()?u():[];localStorage.setItem("fav",JSON.stringify([e].concat(Object(h.a)(t))))}(e.char),s(u())},children:Object(f.jsx)(p.a,{className:"card__icon--black",size:"40px"})})]})]})})},v=function(e){for(var t=e.charactersPerPage,c=e.numberOfCharacter,a=e.setCurrentPage,n=e.currentPage,s=[],r=1;r<=c/t+1;r++)s.push(r);return Object(f.jsx)("div",{className:"flex flex--center",children:Object(f.jsx)("div",{className:"pagination center",children:s.map((function(e){return Object(f.jsx)("button",{className:n===e?"active":null,onClick:function(){a(e)},children:e},e)}))})})},g=function(){var e=Object(a.useState)(!1),t=Object(b.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(),r=Object(b.a)(s,2),i=r[0],j=r[1],l=Object(a.useState)(),p=Object(b.a)(l,2),h=p[0],u=p[1],O=Object(a.useState)([]),g=Object(b.a)(O,2),w=g[0],N=g[1],S=Object(a.useState)(),y=Object(b.a)(S,2),C=y[0],k=y[1],P=Object(a.useState)(1),F=Object(b.a)(P,2),I=F[0],_=F[1],E=10*I,J=E-10,L=w.slice(J,E);Object(a.useEffect)((function(){n(!0);var e=[];function t(e){return c.apply(this,arguments)}function c(){return(c=Object(d.a)(o.a.mark((function t(c){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.get(c).then((function(t){e=e.concat(t.data.results),j(t.data.count)})).catch((function(e){console.error(e)}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(c){Promise.all(c.map(t)).then((function(){n(!1),e.forEach((function(e){e.id=function(e){var t=e.match(/\/people\/(\d+)\//);return parseInt(t[1])}(e.url)})),u(e),N(e)}))}(["https://swapi.dev/api/people/?page=1","https://swapi.dev/api/people/?page=2","https://swapi.dev/api/people/?page=3","https://swapi.dev/api/people/?page=4","https://swapi.dev/api/people/?page=5","https://swapi.dev/api/people/?page=6","https://swapi.dev/api/people/?page=7","https://swapi.dev/api/people/?page=8","https://swapi.dev/api/people/?page=9"])}),[]);return c?Object(f.jsx)("div",{className:"section",children:Object(f.jsx)("div",{className:"lds-dual-ring",children:"Loading..."})}):Object(f.jsxs)("div",{className:"section",children:[Object(f.jsxs)("div",{className:"flex flex--space",children:[Object(f.jsx)("input",{id:"search",placeholder:"Search by name",type:"text",className:"search",onChange:function(e){!function(e){var t,c=e.target.value.toLowerCase();t=h.filter((function(e){return e.name.toLowerCase().indexOf(c)>-1})),_(1),k(t),N(t),j(t.length),document.getElementById("Filter-gender").selectedIndex=0}(e)}}),Object(f.jsxs)("select",{name:"gender",id:"Filter-gender",onChange:function(e){!function(e){var t=e.target.value.toLowerCase();if("male"===t||"female"===t||"n/a"===t){var c=C||h;c=c.filter((function(e){return e.gender.toLowerCase()===t})),_(1),N(c),j(c.length)}else C&&N(C)}(e)},children:[Object(f.jsx)("option",{value:"",children:"--Choose gender--"}),Object(f.jsx)("option",{value:"male",children:"Male"}),Object(f.jsx)("option",{value:"female",children:"Female"}),Object(f.jsx)("option",{value:"n/a",children:"Droid"})]})]}),Object(f.jsx)("div",{className:"grid-container mb-16 mt-16",children:L&&L.map((function(e,t){return Object(f.jsx)(m,{char:e,id:e.id,name:e.name,planet:e.homeworld},t)}))}),Object(f.jsx)(v,{numberOfCharacter:i,charactersPerPage:10,currentPage:I,setCurrentPage:_})]})};c(60);var w=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"flex flex--space mt-8 mb-16",children:[Object(f.jsx)("div",{}),Object(f.jsx)(i.b,{to:"/",children:Object(f.jsx)("img",{src:"https://fontmeme.com/permalink/210602/5a25055fcd1d6b8db47107bfac1f58a5.png",alt:"Starwars",className:"img__header"})}),Object(f.jsxs)(i.b,{to:"/fav",children:[Object(f.jsx)("div",{children:Object(f.jsx)(p.a,{className:"card__icon--red",size:"40px"})}),"My favorites"]})]}),Object(f.jsx)("div",{className:"input-size"})]})},N=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(w,{}),Object(f.jsx)(g,{})]})},S=function(){var e=Object(a.useState)(u()),t=Object(b.a)(e,2),c=t[0],n=t[1];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(w,{}),Object(f.jsxs)("div",{className:"section",children:[Object(f.jsx)("center",{children:Object(f.jsx)("h2",{children:"My favorites"})}),Object(f.jsxs)("table",{children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{}),Object(f.jsx)("th",{}),Object(f.jsx)("th",{})]})}),Object(f.jsx)("tbody",{children:c.map((function(e,t){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:Object(f.jsx)("img",{height:"200px",width:"200px",src:"https://starwars-visualguide.com/assets/img/characters/".concat(e.id,".jpg"),alt:"".concat(e.name)})}),Object(f.jsx)("td",{children:e.name}),Object(f.jsx)("td",{children:Object(f.jsx)("button",{className:"btn",onClick:function(){var e=JSON.parse(localStorage.getItem("fav"));e.splice(t,1),n(e),localStorage.setItem("fav",JSON.stringify(e))},children:"Remove from favorites"})})]},t)}))})]})]})]})};var y=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(w,{}),Object(f.jsx)("div",{className:"section",children:Object(f.jsx)("h1",{children:"Error 404 please recheck the url"})})]})};var C=function(){return Object(f.jsx)(i.a,{basename:"/starwars-crypton",children:Object(f.jsxs)(j.d,{children:[Object(f.jsx)(j.b,{exact:!0,path:"/",children:Object(f.jsx)(N,{})}),Object(f.jsx)(j.b,{exact:!0,path:"/fav",children:Object(f.jsx)(S,{})}),Object(f.jsx)(j.b,{exact:!0,path:"/404",component:y}),Object(f.jsx)(j.a,{to:"/404"})]})})};r.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(C,{})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.3166bee9.chunk.js.map